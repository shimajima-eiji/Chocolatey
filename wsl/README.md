# ファイルについて
このディレクトリを/home/$USERに見立てて構成している
ディストリビューション名のディレクトリのみ、各ディストリビューションで利用する専用のファイルを格納している。

# 使い方
- windowsから見たパス:
  - \\wsl$
- VSCodeを使う場合:
  1. Remote WSLを入れる
  1. ターミナルをWSLで開き、`code ~/`
  1. WSLユーザーでVSCodeが起動する
  1. デバッガーなどWindowsとパスが異なる機能を使う拡張機能は別途設定・インストールを実施する
    - Settings Syncを使用している場合、Windows環境を上書きしないように注意
    - serviceなどは親ユーザーから実行する。WSLユーザーで実施するとパーミッションで弾かれる
- Vmmemのメモリ圧迫問題に対応する場合:
  - %USERPROFILE%/.wslconfigに.wslconfigの内容を適切に設定し運用する

# Vmmemのメモリ圧迫問題に対応する
## メモリが圧迫されてどうにもならない時
たとえば、タスクマネージャーを見ると`Vmmem`がメモリを圧迫する事がある。
これを解消するため、**コマンドプロンプトで**以下のコマンドを実行してWSLを再起動する。
```
wsl --shutdown
```

## Windowsのメモリを圧迫されないようにしたい
恒久的な対応として`%USERPROFILE%/.wslconfig`に置いてwslを実行する方法がある。
スワップを禁止(0)にしてメモリを絞りすぎると、VSCodeなどでこのようなエラーメッセージがポップするが適切な設定が出来ていれば実行に問題はない。
一般的に、WSLを開発用途として使うだろうなのでメモリ使用量が50%を超えるようなら再起動を検討した方が良く、本番運用ならHyper-Vなどを使ってメモリ管理をすべきである。

ただし、この場合は圧迫した分だけ内部的に処理が失敗する可能性があるため、ターミナルでログインする際は結局シャットダウンを実施することになるかも知れない。
